(function(){var e=0;var t=["ms","moz","webkit","o"];for(var n=0;n<t.length&&!window.requestAnimationFrame;++n){window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame)window.requestAnimationFrame=function(t,n){var r=(new Date).getTime();var i=Math.max(0,16-(r-e));var s=window.setTimeout(function(){t(r+i)},i);e=r+i;return s};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=function(e){clearTimeout(e)}})();var generateMoonSlider=function(e,t,n){if(e===undefined)return{};n=n!==undefined?n:{};t=t!==undefined?t:{};var r={min_value:0,max_value:100,start_value:0,step:1,radius:50,color:"#5f3b70",slider_classname:"moon-slider",button_classname:"moon-slider-button",base_line_color:"#d8d8d8"};for(var i in r){if(t[i]===undefined)t[i]=r[i]}if(t.start_value<t.min_value)t.start_value=t.min_value;var s=function(e,t,n){function b(){r.className+=" "+t.slider_classname;var n=document.createElement("div");r.appendChild(n);i=document.createElement("div");i.id=e+"-moon-button";i.className=t.button_classname;i.style.left=t.radius-3+"px";n.appendChild(i);o=document.createElement("canvas");o.id=e+"-moon-canvas";o.width=t.radius*2+p;o.height=t.radius*2+p;n.appendChild(o);s=document.createElement("input");s.setAttribute("type","hidden");s.setAttribute("name",e+"-input");s.id=e+"-moon-input";s.setAttribute("value",t.min_value);n.appendChild(s)}function w(e){requestAnimationFrame(function(){e=e!==undefined?e:m;var n=o.getContext("2d");n.clearRect(0,0,o.width,o.height);if(h){o.style.display="none";o.offsetHeight;o.style.display="inherit"}n.beginPath();n.arc(v,v,t.radius,0,g);n.strokeStyle=t.base_line_color;n.lineWidth=p;n.stroke();n.beginPath();n.arc(v,v,t.radius,m,e);n.strokeStyle=t.color;n.lineWidth=p;n.stroke()})}function E(e){e.preventDefault();if(e.type=="touchmove"){e.clientX=e.targetTouches[0].clientX;e.clientY=e.targetTouches[0].clientY}S(e.clientX,e.clientY);return false}function S(n,r,f,h){var p=o.getBoundingClientRect();var d=n-p.left;var v=r-p.top;var m=Math.atan2(d-t.radius,v-t.radius);if(!f)f=-m/(Math.PI/180)+180;else x(f);var g=false;var b=false;if(f<60&&!l){f=360;g=true}else if(f>300&&l)f=0;a=f;x(f);u=Math.round(t.min_value+f*c);if(h===undefined&&t.step>1){var E=u%t.step;if(E>t.step/2){u=u-E+t.step;var C=N(u);S(C.pos.left,C.pos.top,C.deg,true);return}else if(E!=0)b=true}if(!b){s.setAttribute("value",u);var k=T(f,p.left,p.top);i.style.left=k.left-p.left+"px";i.style.top=k.top-p.top+"px";if(f>0&&!g)w((m-Math.PI/2)*-1);else if(f==0)w();y({id:e,deg:a,value:u})}}function x(e){if(e<90)l=true;else if(e>270)l=false}function T(e,n,r){var i=Math.round(t.radius*Math.sin(e*Math.PI/180));var s=Math.round(t.radius*-Math.cos(e*Math.PI/180));return{left:i+t.radius+n-2,top:s+t.radius+r-2}}function N(e){var n=o.getBoundingClientRect();var r=e-t.min_value;var i=r/(t.max_value-t.min_value)*360;var s=T(i,n.left,n.top);return{pos:s,deg:i}}var r=document.getElementById(e),i,s,o,u=t.start_value,a=0,f=t.max_value-t.min_value,l=true,c=f/360,h,p=22,d=p/2,v=t.radius+d,m=1.5*Math.PI,g=2*Math.PI;var y=function(e){};(function(){var e=navigator.userAgent.toLowerCase();h=e.indexOf("android")>-1;b();if(t.start_value>t.min_value){var r=N(t.start_value);S(r.pos.left,r.pos.top,r.deg)}else w();i.addEventListener("mousedown",function(){document.addEventListener("mousemove",E)});document.addEventListener("mouseup",function(){document.removeEventListener("mousemove",E)});i.addEventListener("touchstart",function(){document.addEventListener("touchmove",E)});document.addEventListener("touchend",function(){document.removeEventListener("touchmove",E)});if(n.onMoveHandler!==undefined)y=n.onMoveHandler})();return{setValue:function(e){var t=N(e);S(t.pos.left,t.pos.top,t.deg)},setDeg:function(e){var t=o.getBoundingClientRect();var n=T(e,t.left,t.top);S(n.left,n.top,e)},getValue:function(){return u},getDeg:function(){return a}}};return new s(e,t,n)}